# ============================================================================
# CONFIGURA��O DA APLICA��O - BIBLIOTECA IMPERIAL
# ============================================================================
# ======================================
# ============================================================================
# CONFIGURA��ES GERAIS DA APLICA��O
# ============================================================================
spring.application.name=biblioteca-imperial
server.port=8080

# ============================================================================
# CONFIGURA��ES DO BANCO DE DADOS MYSQL
# ============================================================================
# URL de conex�o com o banco MySQL
spring.datasource.url=jdbc:mysql://localhost:3306/biblioteca_imperial?useSSL=false&serverTimezone=America/Sao_Paulo&allowPublicKeyRetrieval=true

# Credenciais de acesso (usar o usu�rio app_backend criado no script SQL)
spring.datasource.username=app_backend
spring.datasource.password=AppBack@2024!

# Driver JDBC do MySQL
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================================================================
# CONFIGURA��ES DO JPA/HIBERNATE
# ============================================================================
# Dialeto do MySQL
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# Estrat�gia de gera��o do schema (validate = n�o altera o banco)
# Usamos 'validate' porque o banco j� foi criado pelo script SQL
spring.jpa.hibernate.ddl-auto=validate

# Exibir SQL no console (�til para debug)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Configura��es adicionais do Hibernate
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# ============================================================================
# CONFIGURA��ES DO MONGODB
# ============================================================================
# URI de conex�o com o MongoDB
spring.data.mongodb.uri=mongodb://localhost:27017/biblioteca_imperial_nosql

# Configura��es adicionais do MongoDB
spring.data.mongodb.auto-index-creation=true

# ============================================================================
# CONFIGURA��ES DE SEGURAN�A
# ============================================================================
# Configura��es do Spring Security
spring.security.user.name=admin
spring.security.user.password=admin123

# ============================================================================
# CONFIGURA��ES DO SWAGGER/OPENAPI
# ============================================================================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# ============================================================================
# CONFIGURA��ES DE LOGGING
# ============================================================================
logging.level.root=INFO
logging.level.br.com.biblioimperial=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ============================================================================
# CONFIGURA��ES DE ENCODING
# ============================================================================
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# ============================================================================
# CONFIGURA��ES DE JACKSON (JSON)
# ============================================================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=America/Sao_Paulo
spring.jackson.default-property-inclusion=non_null

# ============================================================================
# CONFIGURA��ES IMPORTANTES
# ============================================================================
# 1. Certifique-se de que o MySQL est� rodando na porta 3306
# 2. Certifique-se de que o MongoDB est� rodando na porta 27017
# 3. Execute o script SQL (biblioteca_imperial.sql) antes de iniciar a aplica��o
# 4. O usu�rio 'app_backend' deve ter sido criado pelo script SQL
# 5. Para produ��o, altere as senhas e use vari�veis de ambiente
# ============================================================================

