# ============================================================================
# CONFIGURAÇÃO DA APLICAÇÃO - BIBLIOTECA IMPERIAL
# ============================================================================
# ======================================
# ============================================================================
# CONFIGURAÇÕES GERAIS DA APLICAÇÃO
# ============================================================================
spring.application.name=biblioteca-imperial
server.port=8080

# ============================================================================
# CONFIGURAÇÕES DO BANCO DE DADOS MYSQL
# ============================================================================
# URL de conexão com o banco MySQL
spring.datasource.url=jdbc:mysql://localhost:3306/biblioteca_imperial?useSSL=false&serverTimezone=America/Sao_Paulo&allowPublicKeyRetrieval=true

# Credenciais de acesso (usar o usuário app_backend criado no script SQL)
spring.datasource.username=app_backend
spring.datasource.password=AppBack@2024!

# Driver JDBC do MySQL
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================================================================
# CONFIGURAÇÕES DO JPA/HIBERNATE
# ============================================================================
# Dialeto do MySQL
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# Estratégia de geração do schema (validate = não altera o banco)
# Usamos 'validate' porque o banco já foi criado pelo script SQL
spring.jpa.hibernate.ddl-auto=validate

# Exibir SQL no console (útil para debug)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Configurações adicionais do Hibernate
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# ============================================================================
# CONFIGURAÇÕES DO MONGODB
# ============================================================================
# URI de conexão com o MongoDB
spring.data.mongodb.uri=mongodb://localhost:27017/biblioteca_imperial_nosql

# Configurações adicionais do MongoDB
spring.data.mongodb.auto-index-creation=true

# ============================================================================
# CONFIGURAÇÕES DE SEGURANÇA
# ============================================================================
# Configurações do Spring Security
spring.security.user.name=admin
spring.security.user.password=admin123

# ============================================================================
# CONFIGURAÇÕES DO SWAGGER/OPENAPI
# ============================================================================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# ============================================================================
# CONFIGURAÇÕES DE LOGGING
# ============================================================================
logging.level.root=INFO
logging.level.br.com.biblioimperial=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ============================================================================
# CONFIGURAÇÕES DE ENCODING
# ============================================================================
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# ============================================================================
# CONFIGURAÇÕES DE JACKSON (JSON)
# ============================================================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=America/Sao_Paulo
spring.jackson.default-property-inclusion=non_null

# ============================================================================
# CONFIGURAÇÕES IMPORTANTES
# ============================================================================
# 1. Certifique-se de que o MySQL está rodando na porta 3306
# 2. Certifique-se de que o MongoDB está rodando na porta 27017
# 3. Execute o script SQL (biblioteca_imperial.sql) antes de iniciar a aplicação
# 4. O usuário 'app_backend' deve ter sido criado pelo script SQL
# 5. Para produção, altere as senhas e use variáveis de ambiente
# ============================================================================

